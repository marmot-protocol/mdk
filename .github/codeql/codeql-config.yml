name: "MDK CodeQL Configuration"

queries:
  - uses: security-and-quality

# Suppress rules that produce only false positives in this codebase.
#
# rust/hard-coded-cryptographic-value (47 false positives):
#   Flags zero-initialized buffers like `[0u8; 32]` that are immediately filled
#   by CSPRNG (OsRng) or HKDF, HKDF domain separation labels (b"mip04-v2"),
#   and MIME type string constants ("image/png"). None of these are actual
#   hard-coded key material. Test code also uses deterministic values for
#   assertions, which is expected and correct.
#
# rust/cleartext-logging (20 false positives):
#   All alerts are in #[cfg(test)] modules -- test assertions comparing
#   exporter_secret values (e.g., assert_ne!(initial, final)). These never
#   execute in production. Production logging of sensitive identifiers is
#   enforced by AGENTS.md policy, STYLE.md, and code review.
#
# See AGENTS.md "Sensitive Identifiers - NEVER Log or Expose" for the
# production policy that guards against the real versions of these issues.
query-filters:
  - exclude:
      id: rust/hard-coded-cryptographic-value
  - exclude:
      id: rust/cleartext-logging
